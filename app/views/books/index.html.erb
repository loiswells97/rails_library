<h1>Welcome to the library! 📚</h1>

<%= form_for(form_for_object_from_param(:filter), method: :get, url: books_path) do |f|%>
  <%= f.text_field(:search_term)%>
  <%= content_tag(:button, 'Search', type: 'submit')%>
  <%= link_to('Clear', books_path)%>
<% end %>

<%= link_to("📕 Add a new book", new_book_path, :class => 'action new')%>
<%= link_to("📜 Book lists", lists_path, :class => 'action new')%>
<%= link_to("🎯 Reading targets", targets_path, :class => 'action new')%>

<% if @books.empty? && @search_term!=''%>
  <p>Sorry, there are no books matching your search 😬</p>
<% elsif @books.empty? %>
  <p>The library is currently empty 😭</p>
  <%= link_to("📕 Add a new book", new_book_path, :class => 'action new')%>
<% else %>
  <%= render(:partial => 'table', :locals => {:books => @books, :search_term => @search_term})%>
<% end %>
